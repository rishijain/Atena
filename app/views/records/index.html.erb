<!-- app/views/records/index.html.erb -->
<div class="bg-white min-h-screen p-6">
  <h1 class="text-2xl font-bold mb-6"><%= @category.name %> Records</h1>

  <!-- New Record Button -->
  <div class="mb-6">
    <%= link_to "New #{@category.name} Record", new_category_record_path(@category), 
        class: "bg-blue-400 text-white px-4 py-2 rounded hover:bg-blue-500" %>
  </div>

  <!-- Records Table -->
  <div class="overflow-x-auto">
    <table class="min-w-full border-collapse border border-gray-200">
      <thead>
        <tr class="bg-gray-100">
          <% @category.fields.keys.each do |field| %>
            <th class="border border-gray-300 px-4 py-2 text-left"><%= field.humanize %></th>
          <% end %>
        </tr>
      </thead>
      <tbody>
        <% @records.each do |record| %>
          <tr class="hover:bg-gray-50">
            <% @category.fields.keys.each do |field| %>
              <td class="border border-gray-300 px-4 py-2"><%= record.data[field] %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
